# DigitalOcean Environment Variables

Copy and paste these environment variables into your DigitalOcean App Platform dashboard.

## Required Environment Variables

### Core Configuration
```
NODE_ENV=production
PORT=4000
VITE_API_URL=${sos-backend.PUBLIC_URL}  # Auto-set by DigitalOcean
CORS_ORIGIN=  # Empty - same origin since frontend is served from backend
```

### Database (Supabase PostgreSQL)
```
DATABASE_URL=postgresql://postgres:SynthralOS@db.qgfutvkhhsjbjthkammv.supabase.co:5432/postgres
```
**Note**: Mark as **SECRET** in DigitalOcean dashboard

### Redis (Auto-configured if using DigitalOcean Redis)
```
REDIS_URL=${sos-redis.REDIS_URL}  # Auto-set by DigitalOcean
```

### Authentication (Clerk)
```
CLERK_SECRET_KEY=sk_test_jbeqygk5Qe4No6rwQIlk0ZeIUAgW2Z2uWg8ijy2MLA
CLERK_PUBLISHABLE_KEY=pk_test_ZXRoaWNhbC1oYXJlLTc5LmNsZXJrLmFjY291bnRzLmRldiQ
```
**Note**: Mark CLERK_SECRET_KEY as **SECRET**

### AI Providers (UPDATE THESE - currently empty)
```
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
```
**Note**: Mark as **SECRET**

### Email Service (UPDATE THIS - currently placeholder)
```
RESEND_API_KEY=re_xxxxx
```
**Note**: Mark as **SECRET**

### Nango OAuth (REQUIRED - UPDATE THIS - Get from https://nango.dev)
```
NANGO_SECRET_KEY=
NANGO_HOST=https://api.nango.dev
```
**Note**: Mark NANGO_SECRET_KEY as **SECRET**

### Supabase (for code blob storage)
```
SUPABASE_URL=https://qgfutvkhhsjbjthkammv.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFnZnV0dmtoaHNqYmp0aGthbW12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0Mzg2MTcsImV4cCI6MjA3ODAxNDYxN30.hhNH7orytoDzR7STQi9Zu3_e2FN_-pY0Rx6oavtH0ds
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFnZnV0dmtoaHNqYmp0aGthbW12Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjQzODYxNywiZXhwIjoyMDc4MDE0NjE3fQ.XaJ20gARmftwE6Sqvju42D-XJEeqFryD7BWIGr6M1P8
```
**Note**: Mark SUPABASE_ANON_KEY and SUPABASE_SERVICE_ROLE_KEY as **SECRET**

### JWT Secret (Auto-generated by DigitalOcean)
```
JWT_SECRET=  # Leave empty - DigitalOcean will generate
```

## Optional Environment Variables

### OpenTelemetry (Monitoring)
```
OTEL_ENABLED=false
OTEL_SERVICE_NAME=sos-backend
OTEL_SERVICE_VERSION=1.0.0
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-otel-endpoint.com
```
**Note**: Mark OTEL_EXPORTER_OTLP_ENDPOINT as **SECRET** if using

### PostHog Analytics
```
POSTHOG_API_KEY=phc_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
POSTHOG_HOST=https://app.posthog.com
```
**Note**: Mark POSTHOG_API_KEY as **SECRET**

### RudderStack Analytics
```
RUDDERSTACK_WRITE_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
RUDDERSTACK_DATA_PLANE_URL=https://hosted.rudderlabs.com
```
**Note**: Mark RUDDERSTACK_WRITE_KEY as **SECRET**

### StackStorm (Self-healing)
```
STACKSTORM_ENABLED=false
STACKSTORM_API_URL=https://your-stackstorm-instance.com/api
STACKSTORM_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```
**Note**: Mark STACKSTORM_API_KEY as **SECRET**

## Frontend Build-Time Environment Variables

If deploying frontend separately, these are set automatically:

```
VITE_API_URL=${sos-backend.PUBLIC_URL}  # Auto-set by DigitalOcean
VITE_CLERK_PUBLISHABLE_KEY=pk_test_ZXRoaWNhbC1oYXJlLTc5LmNsZXJrLmFjY291bnRzLmRldiQ
```

## How to Set in DigitalOcean Dashboard

1. Go to your app: https://cloud.digitalocean.com/apps
2. Click on your app
3. Go to **Settings** â†’ **App-Level Environment Variables**
4. Click **Edit**
5. For each variable:
   - Click **Add Variable**
   - Enter **Key** and **Value**
   - Check **Encrypted** for sensitive values (API keys, secrets)
   - Click **Save**
6. The app will automatically redeploy with new variables

## Quick Copy-Paste Format (Key=Value pairs)

### Backend - Copy each line and paste into DigitalOcean:

```
DATABASE_URL=postgresql://postgres:SynthralOS@db.qgfutvkhhsjbjthkammv.supabase.co:5432/postgres
CLERK_SECRET_KEY=sk_test_jbeqygk5Qe4No6rwQIlk0ZeIUAgW2Z2uWg8ijy2MLA
CLERK_PUBLISHABLE_KEY=pk_test_ZXRoaWNhbC1oYXJlLTc5LmNsZXJrLmFjY291bnRzLmRldiQ
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
RESEND_API_KEY=re_xxxxx
NANGO_SECRET_KEY=
NANGO_HOST=https://api.nango.dev
SUPABASE_URL=https://qgfutvkhhsjbjthkammv.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFnZnV0dmtoaHNqYmp0aGthbW12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0Mzg2MTcsImV4cCI6MjA3ODAxNDYxN30.hhNH7orytoDzR7STQi9Zu3_e2FN_-pY0Rx6oavtH0ds
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFnZnV0dmtoaHNqYmp0aGthbW12Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjQzODYxNywiZXhwIjoyMDc4MDE0NjE3fQ.XaJ20gARmftwE6Sqvju42D-XJEeqFryD7BWIGr6M1P8
VITE_API_URL=
CORS_ORIGIN=
OTEL_ENABLED=false
OTEL_SERVICE_NAME=sos-backend
OTEL_SERVICE_VERSION=1.0.0
```

## Notes

- Variables marked as **SECRET** should be encrypted in DigitalOcean dashboard
- Variables with `${service-name.VARIABLE}` are automatically set by DigitalOcean
- Empty values need to be filled in before deployment
- JWT_SECRET can be left empty - DigitalOcean will auto-generate it

